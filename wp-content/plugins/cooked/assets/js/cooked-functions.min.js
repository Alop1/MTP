var cooked_loading=!1;!function(e){$_Cooked_Ingredient_Boxes=e(".cooked-ingredient-checkbox"),$_Cooked_Fotorama=e(".cooked-recipe-gallery"),$_Cooked_Masonry=e(".cooked-masonry"),$_Cooked_Ajax_List=e(".cooked-recipe-loader"),$_Cooked_Recipe_Search=e(".cooked-recipe-search"),$_Cooked_Timers=e(".cooked-timer > a"),$_Cooked_FSM_Button=e(".cooked-fsm-button"),$_Cooked_Fotorama.length&&$_Cooked_Fotorama.on("fotorama:ready",function(e,o){setTimeout(function(){$_Cooked_Fotorama.addClass("cooked-gallery-loaded")},100)}),e(document).ready(function(){function o(o){o.on("click",function(o){var d=e(this);d.hasClass("cooked-checked")?(d.parent().removeClass("cooked-checked"),d.removeClass("cooked-checked")):(d.parent().addClass("cooked-checked"),d.addClass("cooked-checked"))})}function d(o){o.on("click",function(o){o.preventDefault();var d,i,s=e(this),t="cookedTimer-"+s.data("timer-id"),n=e("#cooked-timers-wrap").find(".cooked-timer-block").length;if(e("div#"+t).length)return e("div#"+t).css({background:"#eeeeee"}),void setTimeout(function(){e("div#"+t).css({background:""})},200);if(4==n)return e("#cooked-timers-wrap").css({transform:"translate3d(0,0.5em,0)"}),void setTimeout(function(){e("#cooked-timers-wrap").css({transform:""})},200);if(n+=1,i=7.5*n,s.parents(".cooked-single-direction").length)r=s.parents(".cooked-single-direction").data("step");else var r=cooked_js_vars.i18n_timer;var k={id:t,seconds:s.data("seconds"),step:r,desc:s.data("desc")};if(e("#cooked-timers-wrap").length)d=1==n?" cooked-visible":"",n>a?e("#cooked-timers-wrap").addClass("cooked-multiples"):e("#cooked-timers-wrap").removeClass("cooked-multiples"),e("#cooked-timers-wrap").addClass("cooked-visible"),e("#cooked-timers-wrap").append('<div id="'+k.id+'" class="cooked-timer-block'+d+'"><span class="cooked-timer-step">'+k.step+'</span><span class="cooked-timer-desc">'+k.desc+'</span><div class="cooked-timer-obj" data-seconds-left="'+k.seconds+'"></div><i class="cooked-icon cooked-icon-times"></i><div class="cooked-progress"><span></span></div></div>'),c(l=e("#"+k.id).find(".cooked-timer-obj"),!1),setTimeout(function(){e("#cooked-timers-wrap").css({height:i+"em"}),e(".cooked-timer-block").addClass("cooked-visible")},50);else{e("body").append('<div id="cooked-timers-wrap"><div id="'+k.id+'" class="cooked-timer-block cooked-visible"><span class="cooked-timer-step">'+k.step+'</span><span class="cooked-timer-desc">'+k.desc+'</span><div class="cooked-timer-obj" data-seconds-left="'+k.seconds+'"></div><i class="cooked-icon cooked-icon-times"></i><div class="cooked-progress"><span></span></div></div></div>');var l=e("#"+k.id).find(".cooked-timer-obj");c(l,!1),setTimeout(function(){e("#cooked-timers-wrap").addClass("cooked-visible")},50)}})}function c(o,d){var s=o.parents(".cooked-timer-block").attr("id"),t=o.data("seconds-left"),n=o.parents(".cooked-timer-block");o.startTimer({classNames:{hours:"cooked-timer-hours",minutes:"cooked-timer-minutes",seconds:"cooked-timer-seconds",clearDiv:"cooked-timer-clearDiv",timeout:"cooked-timer-timeout"},onComplete:function(){o.addClass("cooked-timer-complete")}}),o.prepend('<i class="cooked-icon cooked-icon-reverse"></i><i class="cooked-icon cooked-icon-pause"></i><i class="cooked-icon cooked-icon-play"></i>'),d&&(o.trigger("pause"),n.addClass("cooked-paused"),n.find("i.cooked-icon-pause").hide(),n.find("i.cooked-icon-play").css({display:"inline-block"}),n.addClass("cooked-paused"),e(this).parent().find("i.cooked-icon-play").css({display:"inline-block"})),i(n,10,10),o.on("update",function(e,o){i(n,o,t)}),o.on("complete",function(e,o){n.find("i.cooked-icon-pause").hide(),n.find("i.cooked-icon-play").hide(),n.find(".cooked-timer-seconds").html("00")}),o.on("click","i.cooked-icon-pause",function(d){d.preventDefault(),e(this).hide(),n.addClass("cooked-paused"),e(this).parent().find("i.cooked-icon-play").css({display:"inline-block"}),o.trigger("pause")}),o.on("click","i.cooked-icon-play",function(d){d.preventDefault(),e(this).hide(),n.removeClass("cooked-paused cooked-complete"),e(this).parent().find("i.cooked-icon-pause").css({display:"inline-block"}),o.trigger("resume")}),o.on("click","i.cooked-icon-reverse",function(d){d.preventDefault(),n.removeClass("cooked-paused cooked-complete"),e(this).parent().find("i.cooked-icon-play").css({display:"inline-block"}),e(this).parent().find("i.cooked-icon-pause").hide(),o.remove(),e("#"+s).append('<div class="cooked-timer-obj" data-seconds-left="'+t+'"></div>'),c(e("#"+s).find(".cooked-timer-obj"),!0)}),n.on("click","i.cooked-icon-times",function(o){if(o.preventDefault(),1==e("#cooked-timers-wrap").find(".cooked-timer-block").length)e("#cooked-timers-wrap").removeClass("cooked-visible");else{var d=e("#cooked-timers-wrap").find(".cooked-timer-block").length-1,c=7.5*d;e("#cooked-timers-wrap").css({height:c+"em"}),n.removeClass("cooked-visible"),d==a&&e("#cooked-timers-wrap").removeClass("cooked-multiples")}setTimeout(function(){n.remove()},200)})}function i(e,o,d){var c=100-o/d*100;e.find(".cooked-progress > span").css({width:c+"%"}),c>=100&&e.addClass("cooked-complete")}if($_Cooked_Fotorama.length&&$_Cooked_Fotorama.fotorama(),$_Cooked_Ingredient_Boxes.length&&o($_Cooked_Ingredient_Boxes),e(".cooked-servings").length){var s=e(".cooked-servings").find("select");s.on("change",function(e){e.preventDefault();var o=s.find("option:selected").val();window.location=o})}if($_Cooked_Recipe_Search.length){e("body").on("click",function(o){var d=!1;e(".cooked-browse-select").has(o.target).length>0?d=e(o.target).parents(".cooked-browse-select"):e(o.target).hasClass("cooked-browse-select")&&(d=e(o.target)),d?d.hasClass("cooked-active")&&e(o.target).hasClass("cooked-browse-select")||d.hasClass("cooked-active")&&e(o.target).hasClass("cooked-field-title")?d.removeClass("cooked-active"):d.addClass("cooked-active"):e(".cooked-browse-select").removeClass("cooked-active")});var t=e(".cooked-browse-search-button");t.on("click",function(e){e.preventDefault(),t.parents("form").trigger("submit")})}if($_Cooked_Ajax_List.length&&$_Cooked_Ajax_List.imagesLoaded(function(){var o,d=0,c=$_Cooked_Ajax_List.find(".cooked-recipe"),i=$_Cooked_Ajax_List.find(".cooked-recipe").length,s=setInterval(function(){o=c[d++],e(o).addClass("cooked-recipe-loaded"),d>=i&&clearInterval(s)},50)}),$_Cooked_Masonry.length&&$_Cooked_Masonry.imagesLoaded(function(){$_Cooked_Masonry.masonry({itemSelector:"article.cooked-recipe",transitionDuration:0})}),$_Cooked_Timers.length){var a=1;d($_Cooked_Timers)}$_Cooked_FSM_Button.length&&($_Cooked_FSM_Button.on("click",function(c){c.preventDefault();var i=e(this).data("recipe-id"),s=e('.cooked-fsm[data-recipe-id="'+i+'"]');e("body").addClass("cooked-noscroll cooked-fsm-active");var t=s.clone().appendTo("body");setTimeout(function(){t.addClass("cooked-visible")},10),setTimeout(function(){t.addClass("cooked-active")},50);var a=t.find(".cooked-timer > a"),n=t.find(".cooked-ingredient-checkbox");d(a),o(n),t.on("click",".cooked-close-fsm",function(o){o.preventDefault(),t.removeClass("cooked-active"),e("body").removeClass("cooked-noscroll cooked-fsm-active"),setTimeout(function(){t.remove()},200)})}),e("body").on("click",".cooked-fsm-mobile-nav > a",function(o){o.preventDefault();var d=e(this),c=d.data("nav-id"),i=d.parents(".cooked-fsm");i.find(".cooked-fsm-mobile-nav > a").removeClass("cooked-active"),i.find(".cooked-fsm-content").removeClass("cooked-active"),d.addClass("cooked-active"),i.find(".cooked-fsm-content.cooked-fsm-"+c).addClass("cooked-active")}))})}(jQuery);